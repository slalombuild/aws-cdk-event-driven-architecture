"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.buildAllStackAssets = void 0;
async function buildAllStackAssets(stacks, options) {
    const { buildStackAssets } = options;
    const buildingErrors = [];
    for (const stack of stacks) {
        try {
            await buildStackAssets(stack);
        }
        catch (err) {
            buildingErrors.push(err);
        }
    }
    if (buildingErrors.length) {
        throw Error(`Building Assets Failed: ${buildingErrors.join(', ')}`);
    }
}
exports.buildAllStackAssets = buildAllStackAssets;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVpbGQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJidWlsZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFNTyxLQUFLLFVBQVUsbUJBQW1CLENBQUMsTUFBMkMsRUFBRSxPQUFnQjtJQUNyRyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFckMsTUFBTSxjQUFjLEdBQVksRUFBRSxDQUFDO0lBRW5DLEtBQUssTUFBTSxLQUFLLElBQUksTUFBTSxFQUFFO1FBQzFCLElBQUk7WUFDRixNQUFNLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQy9CO1FBQUMsT0FBTyxHQUFHLEVBQUU7WUFDWixjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzFCO0tBQ0Y7SUFFRCxJQUFJLGNBQWMsQ0FBQyxNQUFNLEVBQUU7UUFDekIsTUFBTSxLQUFLLENBQUMsMkJBQTJCLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3JFO0FBQ0gsQ0FBQztBQWhCRCxrREFnQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBjeGFwaSBmcm9tICdAYXdzLWNkay9jeC1hcGknO1xuXG50eXBlIE9wdGlvbnMgPSB7XG4gIGJ1aWxkU3RhY2tBc3NldHM6IChzdGFjazogY3hhcGkuQ2xvdWRGb3JtYXRpb25TdGFja0FydGlmYWN0KSA9PiBQcm9taXNlPHZvaWQ+O1xufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1aWxkQWxsU3RhY2tBc3NldHMoc3RhY2tzOiBjeGFwaS5DbG91ZEZvcm1hdGlvblN0YWNrQXJ0aWZhY3RbXSwgb3B0aW9uczogT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCB7IGJ1aWxkU3RhY2tBc3NldHMgfSA9IG9wdGlvbnM7XG5cbiAgY29uc3QgYnVpbGRpbmdFcnJvcnM6IEVycm9yW10gPSBbXTtcblxuICBmb3IgKGNvbnN0IHN0YWNrIG9mIHN0YWNrcykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBidWlsZFN0YWNrQXNzZXRzKHN0YWNrKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGJ1aWxkaW5nRXJyb3JzLnB1c2goZXJyKTtcbiAgICB9XG4gIH1cblxuICBpZiAoYnVpbGRpbmdFcnJvcnMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoYEJ1aWxkaW5nIEFzc2V0cyBGYWlsZWQ6ICR7YnVpbGRpbmdFcnJvcnMuam9pbignLCAnKX1gKTtcbiAgfVxufSJdfQ==